<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			@page {
				size: A4;
				margin: 20mm;
			}

			body {
				font-size: 12pt;
				line-height: 1.6;
			}

			.page-break {
				page-break-before: always; /* 强制分页 */
			}

			@media print {
				body {
					margin: 0;
					padding: 0;
				}

				.page-break {
					page-break-before: always; /* 打印时的分页符 */
				}
			}
		</style>
	</head>
	<body>
		<div id="content">
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
      <p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p><p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p><p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p><p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p><p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
			<p>这是第一页的内容。</p>
			<p>这是第一页的更多内容。</p>
			<p>这是第二页的内容。</p>
			<p>更多内容...</p>
		</div>
		<script>
			function paginateContent() {
				const pageHeight = 2970; // A4纸的高度，单位是px，假设屏幕分辨率为 96dpi，即 297mm = 2970px
				const content = document.getElementById("content");

				let currentHeight = 0; // 当前页面的高度
				let childNodes = Array.from(content.children); // 获取 content 中所有子元素

				// 清空分页符
				childNodes.forEach((node) => node.classList.remove("page-break"));

				childNodes.forEach((node) => {
					currentHeight += node.offsetHeight; // 累加当前节点的高度

					// 如果内容超出了 A4 页面的高度
					if (currentHeight > pageHeight) {
						// 给当前节点加上分页符类
						node.classList.add("page-break");
						currentHeight = node.offsetHeight; // 重置当前页面高度，开始新的一页
					}
				});
			}

			// 页面加载后执行分页
			window.onload = paginateContent;
		</script>
	</body>
</html>
